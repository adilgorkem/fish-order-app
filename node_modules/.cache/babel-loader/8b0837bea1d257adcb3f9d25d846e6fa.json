{"ast":null,"code":"var _jsxFileName = \"/Users/gorkemgedik/Desktop/react-complete-guide/07-food-order-app/src/store/CartProvider.js\",\n    _s = $RefreshSig$();\n\n// The goal of this component is simply to manage the cart context to data and provide that context to all components that want access to it. That's why we imported CartContext.\nimport CartContext from \"./cart-context\"; //Using useReducer\n//1\n\nimport { useReducer } from \"react\"; //3\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n}; //2\n\nconst cartReducer = (state, action) => {\n  //7: Adding logic for adding and removing\n  if (action.type === 'additem') {\n    // const updatedItems = state.items.concat(action.item); // State gives the current state so the non-updated state. And concat method creates a new array unlike push method while bringing the old items and the updated items together.\n    const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount; // Adding and removing items so changing the total amount in Cart component\n    //1.1 : Checking if an item is always a part of the Cart\n\n    const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id);\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedItems;\n\n    if (existingCartItem) {\n      const updatedItem = { ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount\n      };\n      updatedItems = [...state.items]; // Spread operator copies the old Array and then turns it into a new Array.\n\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n\n  if (action.type === 'removeitem') {\n    const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n    const existingItem = state.items[existingCartItemIndex];\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\n    let updatedItems;\n\n    if (existingItem.amount === 1) {\n      updatedItems = state.items.filter(item => item.id !== action.id);\n    } else {\n      const updatedItem = { ...existingItem,\n        amount: existingItem.amount - 1\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n\n  return defaultCartState;\n}; //Action will be dispatched by us and the State is the last state snapshot of the state managed by the reducer.\n\n\nconst CartProvider = props => {\n  _s();\n\n  //4\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState); //defaultCartState is the initial state here.\n  //6: using dispatchCartAction for Adding and Removing\n\n  const addItemToCartHandler = item => {\n    dispatchCartAction({\n      type: 'additem',\n      item: item\n    });\n  };\n\n  const removeItemFormCartHandler = id => {\n    dispatchCartAction({\n      type: 'removeitem',\n      id: id\n    });\n  };\n\n  const cartContext = {\n    //5: connecting the key values to the cartState\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFormCartHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 12\n  }, this);\n};\n\n_s(CartProvider, \"PxEugEseoIJIbjFwtAJal5z5ClY=\");\n\n_c = CartProvider;\nexport default CartProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["CartContext","useReducer","defaultCartState","items","totalAmount","cartReducer","state","action","type","updatedTotalAmount","item","price","amount","existingCartItemIndex","findIndex","id","existingCartItem","updatedItems","updatedItem","concat","existingItem","filter","CartProvider","props","cartState","dispatchCartAction","addItemToCartHandler","removeItemFormCartHandler","cartContext","addItem","removeItem","children"],"sources":["/Users/gorkemgedik/Desktop/react-complete-guide/07-food-order-app/src/store/CartProvider.js"],"sourcesContent":["// The goal of this component is simply to manage the cart context to data and provide that context to all components that want access to it. That's why we imported CartContext.\nimport CartContext from \"./cart-context\";\n\n//Using useReducer\n//1\nimport { useReducer } from \"react\";\n\n//3\nconst defaultCartState = {\n    items: [],\n    totalAmount: 0\n};\n\n\n//2\nconst cartReducer = (state, action) => {\n    //7: Adding logic for adding and removing\n    if (action.type === 'additem') {\n        // const updatedItems = state.items.concat(action.item); // State gives the current state so the non-updated state. And concat method creates a new array unlike push method while bringing the old items and the updated items together.\n        const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n\n        // Adding and removing items so changing the total amount in Cart component\n        //1.1 : Checking if an item is always a part of the Cart\n        const existingCartItemIndex = state.items.findIndex(item => item.id === action.item.id);\n        const existingCartItem = state.items[existingCartItemIndex];\n        let updatedItems;\n\n        if (existingCartItem) {\n            const updatedItem = {\n                ...existingCartItem,\n                amount: existingCartItem.amount + action.item.amount\n            };\n            updatedItems = [...state.items]; // Spread operator copies the old Array and then turns it into a new Array.\n            updatedItems[existingCartItemIndex] = updatedItem;\n        } else {\n            updatedItems = state.items.concat(action.item);\n        }\n        return {\n            items: updatedItems,\n            totalAmount: updatedTotalAmount\n        };\n\n    }\n    if (action.type === 'removeitem') {\n\n        const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n        const existingItem = state.items[existingCartItemIndex];\n        const updatedTotalAmount = state.totalAmount - existingItem.price;\n        let updatedItems;\n        if (existingItem.amount === 1) {\n            updatedItems = state.items.filter(item => item.id !== action.id);\n        } else {\n            const updatedItem = {...existingItem, amount: existingItem.amount - 1}\n            updatedItems = [...state.items];\n            updatedItems[existingCartItemIndex] = updatedItem;\n        }\n        return {\n            items: updatedItems,\n            totalAmount: updatedTotalAmount\n        }\n    }\n\n    return defaultCartState;\n}\n\n//Action will be dispatched by us and the State is the last state snapshot of the state managed by the reducer.\n\n\n\nconst CartProvider = props => {\n\n    //4\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState); //defaultCartState is the initial state here.\n\n    //6: using dispatchCartAction for Adding and Removing\n    const addItemToCartHandler = item => {\n        dispatchCartAction({ type: 'additem', item: item });\n    };\n    const removeItemFormCartHandler = id => {\n        dispatchCartAction({ type: 'removeitem', id: id });\n    };\n\n    const cartContext = {\n        //5: connecting the key values to the cartState\n        items: cartState.items,\n        totalAmount: cartState.totalAmount,\n\n        addItem: addItemToCartHandler,\n        removeItem: removeItemFormCartHandler\n    }\n\n    return <CartContext.Provider value={cartContext}>\n        {props.children}\n    </CartContext.Provider>\n\n}\n\nexport default CartProvider;"],"mappings":";;;AAAA;AACA,OAAOA,WAAP,MAAwB,gBAAxB,C,CAEA;AACA;;AACA,SAASC,UAAT,QAA2B,OAA3B,C,CAEA;;;AACA,MAAMC,gBAAgB,GAAG;EACrBC,KAAK,EAAE,EADc;EAErBC,WAAW,EAAE;AAFQ,CAAzB,C,CAMA;;AACA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACnC;EACA,IAAIA,MAAM,CAACC,IAAP,KAAgB,SAApB,EAA+B;IAC3B;IACA,MAAMC,kBAAkB,GAAGH,KAAK,CAACF,WAAN,GAAoBG,MAAM,CAACG,IAAP,CAAYC,KAAZ,GAAoBJ,MAAM,CAACG,IAAP,CAAYE,MAA/E,CAF2B,CAI3B;IACA;;IACA,MAAMC,qBAAqB,GAAGP,KAAK,CAACH,KAAN,CAAYW,SAAZ,CAAsBJ,IAAI,IAAIA,IAAI,CAACK,EAAL,KAAYR,MAAM,CAACG,IAAP,CAAYK,EAAtD,CAA9B;IACA,MAAMC,gBAAgB,GAAGV,KAAK,CAACH,KAAN,CAAYU,qBAAZ,CAAzB;IACA,IAAII,YAAJ;;IAEA,IAAID,gBAAJ,EAAsB;MAClB,MAAME,WAAW,GAAG,EAChB,GAAGF,gBADa;QAEhBJ,MAAM,EAAEI,gBAAgB,CAACJ,MAAjB,GAA0BL,MAAM,CAACG,IAAP,CAAYE;MAF9B,CAApB;MAIAK,YAAY,GAAG,CAAC,GAAGX,KAAK,CAACH,KAAV,CAAf,CALkB,CAKe;;MACjCc,YAAY,CAACJ,qBAAD,CAAZ,GAAsCK,WAAtC;IACH,CAPD,MAOO;MACHD,YAAY,GAAGX,KAAK,CAACH,KAAN,CAAYgB,MAAZ,CAAmBZ,MAAM,CAACG,IAA1B,CAAf;IACH;;IACD,OAAO;MACHP,KAAK,EAAEc,YADJ;MAEHb,WAAW,EAAEK;IAFV,CAAP;EAKH;;EACD,IAAIF,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;IAE9B,MAAMK,qBAAqB,GAAGP,KAAK,CAACH,KAAN,CAAYW,SAAZ,CAAsBJ,IAAI,IAAIA,IAAI,CAACK,EAAL,KAAYR,MAAM,CAACQ,EAAjD,CAA9B;IACA,MAAMK,YAAY,GAAGd,KAAK,CAACH,KAAN,CAAYU,qBAAZ,CAArB;IACA,MAAMJ,kBAAkB,GAAGH,KAAK,CAACF,WAAN,GAAoBgB,YAAY,CAACT,KAA5D;IACA,IAAIM,YAAJ;;IACA,IAAIG,YAAY,CAACR,MAAb,KAAwB,CAA5B,EAA+B;MAC3BK,YAAY,GAAGX,KAAK,CAACH,KAAN,CAAYkB,MAAZ,CAAmBX,IAAI,IAAIA,IAAI,CAACK,EAAL,KAAYR,MAAM,CAACQ,EAA9C,CAAf;IACH,CAFD,MAEO;MACH,MAAMG,WAAW,GAAG,EAAC,GAAGE,YAAJ;QAAkBR,MAAM,EAAEQ,YAAY,CAACR,MAAb,GAAsB;MAAhD,CAApB;MACAK,YAAY,GAAG,CAAC,GAAGX,KAAK,CAACH,KAAV,CAAf;MACAc,YAAY,CAACJ,qBAAD,CAAZ,GAAsCK,WAAtC;IACH;;IACD,OAAO;MACHf,KAAK,EAAEc,YADJ;MAEHb,WAAW,EAAEK;IAFV,CAAP;EAIH;;EAED,OAAOP,gBAAP;AACH,CAhDD,C,CAkDA;;;AAIA,MAAMoB,YAAY,GAAGC,KAAK,IAAI;EAAA;;EAE1B;EACA,MAAM,CAACC,SAAD,EAAYC,kBAAZ,IAAkCxB,UAAU,CAACI,WAAD,EAAcH,gBAAd,CAAlD,CAH0B,CAGyD;EAEnF;;EACA,MAAMwB,oBAAoB,GAAGhB,IAAI,IAAI;IACjCe,kBAAkB,CAAC;MAAEjB,IAAI,EAAE,SAAR;MAAmBE,IAAI,EAAEA;IAAzB,CAAD,CAAlB;EACH,CAFD;;EAGA,MAAMiB,yBAAyB,GAAGZ,EAAE,IAAI;IACpCU,kBAAkB,CAAC;MAAEjB,IAAI,EAAE,YAAR;MAAsBO,EAAE,EAAEA;IAA1B,CAAD,CAAlB;EACH,CAFD;;EAIA,MAAMa,WAAW,GAAG;IAChB;IACAzB,KAAK,EAAEqB,SAAS,CAACrB,KAFD;IAGhBC,WAAW,EAAEoB,SAAS,CAACpB,WAHP;IAKhByB,OAAO,EAAEH,oBALO;IAMhBI,UAAU,EAAEH;EANI,CAApB;EASA,oBAAO,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEC,WAA7B;IAAA,UACFL,KAAK,CAACQ;EADJ;IAAA;IAAA;IAAA;EAAA,QAAP;AAIH,CA1BD;;GAAMT,Y;;KAAAA,Y;AA4BN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}